# Inverse optimization config (skeleton)
seed_size: 16
struct_size: 128

generator:
  sigma_set: [0.8, 1.0, 1.2]
  tau0: 0.5
  delta_tau: 0.05
  backend: "rule_mfs"
  # rule_mfs knobs (ignored unless backend: rule_mfs)
  sym_mode: "upper_copy"
  threshold_temp: 0.05
  mfs_radius_px: 5
  mfs_iters: 4

spectra:
  n_channels: 30   # or 301
  band_ranges_nm:
    B: [400.0, 500.0]
    G: [500.0, 600.0]
    R: [600.0, 700.0]
  band_indices_30:
    B: [0, 9]
    G: [10, 19]
    R: [20, 29]

loss:
  epsilon: 1.0e-6
  # Simple default: match purity matrix A to Identity (3x3)
  w_purity: 1.0
  w_abs: 0.0

  # Legacy/advanced (off by default)
  w_ratio: 0.0
  margin_alpha: 0.3
  w_oob: 0.0
  w_gray: 0.1
  w_tv: 0.01

opt:
  n_start: 200
  n_steps: 2000
  lr: 0.01
  topk: 50
  robustness_samples: 8
  log_every_n_steps: 25
  random_seed: 0
  chunk_size: 64
  loss_reduction: "mean"

paths:
  paths_yaml: "configs/paths.yaml"
